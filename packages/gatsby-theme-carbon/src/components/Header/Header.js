import React, { useContext } from 'react';
import { Link } from 'gatsby';
import {
  Header as ShellHeader,
  HeaderMenuButton,
  SkipToContent,
  HeaderGlobalBar,
  HeaderGlobalAction,
} from 'carbon-components-react';
import { AppSwitcher20, Close20 } from '@carbon/icons-react';
import cx from 'classnames';

import GlobalSearch from '../GlobalSearch';
import NavContext from '../../util/context/NavContext';
import useMetadata from '../../util/hooks/useMetadata';

import {
  header,
  switcherButtonOpen,
  skipToContent,
  headerName,
  collapsed,
  headerButton,
  headerPhone,
  switcherButton,
} from './Header.module.scss';

const Header = ({ children }) => {
  const {
    leftNavIsOpen,
    toggleNavState,
    switcherIsOpen,
    searchIsOpen,
  } = useContext(NavContext);
  const { isSearchEnabled } = useMetadata();

  return (
    <>
      <ShellHeader aria-label="Header" className={header}>
        <SkipToContent href="#main-content" className={skipToContent} />
        {/* <HeaderMenuButton
          className={cx('bx--header__action--menu', headerButton)}
          aria-label="Open menu"
          onClick={() => {
            toggleNavState('leftNavIsOpen');
            toggleNavState('switcherIsOpen', 'close');
          }}
          isActive={leftNavIsOpen}
        /> */}
        <Link
          className={cx(headerName, {
            [collapsed]: searchIsOpen,
          })}
          to="/"
        >
          {children}
        </Link>
        <HeaderGlobalBar>
          <h4 className={cx(headerPhone)}>(904) 556-0648</h4>
        </HeaderGlobalBar>
      </ShellHeader>
    </>
  );
};

const DefaultHeaderText = () => (
  <>
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="134"
      height="40"
      viewBox="0 0 134 40"
    >
      <path
        fill="#FFF"
        d="M22.1302187,23.8966203 C22.7266402,23.8966203 23.1242545,23.4194831 23.1242545,23.0616302 C23.1242545,22.4254473 22.9254473,21.8687873 22.9254473,21.3518887 C22.9254473,19.6023857 23.8797217,16.3419483 25.0725646,13.5188867 C26.2256461,13.6779324 26.861829,13.8369781 27.4184891,13.9960239 C27.8161034,14.1153082 28.5318091,14.2743539 28.8499006,14.2743539 C29.3667992,14.2743539 29.6053678,13.8369781 29.6053678,13.359841 C29.6053678,12.6838966 28.9691849,12.4850895 27.8558648,12.3658052 C27.3787276,12.3260437 25.7485089,12.0477137 25.7485089,12.0477137 C27.2992048,8.90656064 28.7703777,6.12326044 30.7186879,3.5387674 C31.4343936,2.58449304 31.9910537,1.94831014 31.9910537,1.35188867 C31.9910537,0.55666004 31.5934394,0.119284294 30.7186879,0.119284294 C29.8439364,0.119284294 28.7703777,1.19284294 27.2594433,2.74353877 C23.8797217,6.16302187 21.3747515,8.74751491 18.750497,11.3717694 C17.2793241,11.2922465 15.6093439,11.2524851 14.0586481,11.2524851 C7.93538767,11.2524851 6.74254473,12.5646123 6.74254473,13.4791252 C6.74254473,14.0755467 7.10039761,14.5526839 7.73658052,14.5526839 C8.05467197,14.5526839 8.45228628,14.2345924 8.7306163,13.916501 C9.12823062,13.4393638 10.5198807,12.7236581 13.9791252,12.7236581 C14.973161,12.7236581 16.2057654,12.7634195 17.1600398,12.8429423 L16.7317203,13.2179313 C12.7292641,16.7226368 8.59899225,20.3180915 4.91351889,20.3180915 C3.40258449,20.3180915 2.88568588,19.5626243 2.88568588,18.7673956 C2.88568588,18.1709742 2.80616302,17.4950298 1.85188867,17.4950298 C1.01689861,17.4950298 0.5,18.0914513 0.5,18.9264414 C0.5,20.2385686 1.93141153,22.0675944 5.23161034,22.0675944 C9.52584493,22.0675944 14.8141153,17.4552684 19.5854871,12.9622266 C20.5397614,13.0019881 21.6133201,13.1212724 23.0447316,13.2803181 C21.6530815,16.6202783 20.6590457,20.2385686 20.6590457,22.0675944 C20.6590457,23.3001988 21.4542744,23.8966203 22.1302187,23.8966203 Z M23.6809145,11.8489066 C22.806163,11.7296223 21.8916501,11.6500994 20.9771372,11.610338 C23.5616302,9.06560636 26.4642147,5.92445328 27.8956262,4.37375746 C26.2256461,6.9582505 24.5954274,9.98011928 23.6809145,11.8489066 Z M26.6630219,22.3856859 C27.2594433,22.3856859 27.2594433,21.7892644 27.7763419,20.7554672 C28.2137177,19.8409543 28.7703777,18.528827 29.5258449,17.4552684 C30.8379722,15.5467197 32.945328,14.2743539 33.3827038,14.2743539 C33.7007952,14.2743539 33.9393638,14.3538767 33.9393638,14.7514911 C33.9393638,15.3479125 33.3031809,17.2166998 32.8260437,18.7673956 C32.5079523,19.6819085 32.1500994,20.4771372 32.1500994,20.7554672 C32.1500994,21.5109344 32.7465209,21.9085487 33.2236581,21.9085487 C33.7405567,21.9085487 34.0984095,21.2723658 34.4960239,20.3180915 C35.0924453,18.8469185 38.2733598,14.7514911 39.4264414,14.7514911 C39.5854871,14.7514911 39.7047714,14.9105368 39.7047714,15.0695825 C39.7047714,15.9840954 38.8300199,18.0914513 38.8300199,19.6819085 C38.8300199,21.1133201 39.5059642,21.9483101 40.6988072,21.9483101 C42.8856859,21.9483101 46.0666004,18.0119284 47.3389662,16.3817097 C47.8161034,15.7852883 48.0149105,15.5069583 48.0149105,15.0695825 C48.0149105,14.6719682 47.7365805,14.473161 47.3787276,14.473161 C46.9413519,14.473161 46.4244533,15.1093439 45.9473161,15.7057654 C44.5954274,17.5347913 42.3290258,20.1988072 41.0964215,20.1988072 C40.77833,20.1988072 40.6590457,19.9204771 40.6590457,19.4831014 C40.6590457,17.693837 41.7723658,15.9045726 41.7723658,14.194831 C41.7723658,13.2405567 40.8976143,12.7634195 40.22167,12.7634195 C39.028827,12.7634195 37.0407555,14.1550696 35.7286282,15.7057654 C35.8479125,15.1491054 35.9671968,14.5129225 35.9671968,13.8767396 C35.9671968,12.7236581 34.6550696,12.3260437 33.8996024,12.3260437 C32.945328,12.3260437 30.9970179,13.7574553 29.8439364,15.1093439 C30.2017893,14.1550696 30.9572565,12.4055666 30.9572565,11.8489066 C30.9572565,11.0934394 30.4801193,10.8946322 29.9234592,10.8946322 C29.4860835,10.8946322 29.0089463,11.4512922 28.6908549,12.445328 C26.9413519,17.8926441 25.7485089,20.4771372 25.7485089,21.3121272 C25.7485089,21.9483101 26.2654076,22.3856859 26.6630219,22.3856859 Z M44.7147117,40 C49.7246521,40 53.0646123,31.6500994 53.859841,25.805169 C54.138171,25.7256461 54.5755467,25.6858847 54.7345924,25.6858847 C55.8081511,25.6858847 56.5636183,26.1232604 56.5636183,26.4811133 C56.5636183,26.9582505 56.444334,27.1968191 56.444334,27.5149105 C56.444334,28.0715706 56.722664,28.4691849 57.4383698,28.4691849 C58.3131213,28.4691849 58.7107356,27.6341948 58.7107356,26.8787276 C58.7107356,25.0099404 56.6829026,24.1351889 54.7743539,24.1351889 C54.5755467,24.1351889 54.2972167,24.1749503 54.0984095,24.2147117 C54.1779324,23.0218688 54.3369781,21.5904573 54.694831,16.4612326 C54.7743539,15.2286282 55.0526839,14.3538767 55.2514911,13.8369781 C55.3707753,13.5586481 55.4105368,13.3200795 55.4105368,13.0815109 C55.4105368,12.445328 54.9333996,12.3658052 54.5755467,12.3658052 C54.2176938,12.3658052 53.3429423,12.8031809 52.9850895,13.1212724 C52.7862823,13.2803181 52.1898608,14.3141153 51.5934394,15.1491054 C50.8379722,16.3021869 48.054672,20.0397614 47.1003976,20.0397614 C46.9015905,20.0397614 46.861829,19.8807157 46.861829,19.6421471 C46.861829,19.2842942 47.9353877,16.0636183 48.7306163,14.8310139 C49.2077535,14.0755467 49.5258449,13.638171 49.5258449,13.2803181 C49.5258449,12.8429423 49.167992,12.445328 48.4920477,12.445328 C47.7763419,12.445328 47.1799205,13.1610338 46.6232604,14.5129225 C46.1063618,15.7057654 44.8737575,19.2047714 44.8737575,20.3180915 C44.8737575,21.471173 45.5894632,22.0675944 46.3846918,22.0675944 C48.5318091,22.0675944 51.7922465,17.7335984 52.7862823,16.222664 C52.7862823,16.8190855 52.3489066,21.4314115 52.0308151,24.4532803 C51.2753479,24.7713718 48.0944334,26.361829 45.7882704,28.9065606 C43.0049702,31.9284294 41.8518887,35.2683897 41.8518887,37.1371769 C41.8518887,38.9264414 43.2037773,40 44.7147117,40 Z M44.7942346,38.4890656 C44.1978131,38.4890656 43.6809145,37.9324056 43.6809145,37.2564612 C43.6809145,35.8250497 44.5954274,32.9622266 46.7823062,30.5765408 C48.8499006,28.2703777 51.1560636,26.7196819 51.9115308,26.3220676 C51.4343936,30.4572565 48.3727634,38.4890656 44.7942346,38.4890656 Z M71.195825,23.1013917 C74.3369781,23.1013917 78.193837,20.1590457 81.3349901,16.3419483 C83.7206759,15.944334 85.8677932,15.5069583 87.0208748,15.0298211 C87.8956262,14.6719682 88.4125249,14.3538767 88.4125249,13.5984095 C88.4125249,13.1610338 88.054672,12.9224652 87.6172962,12.9224652 C87.3389662,12.9224652 86.9413519,13.0815109 86.6630219,13.2007952 C85.7087475,13.5984095 84.3568588,13.9960239 83.0049702,14.2743539 C85.0328032,11.2524851 86.5437376,7.55467197 86.5437376,4.61232604 C86.5437376,1.27236581 84.3568588,0 80.7385686,0 C74.1779324,0 65.5099404,4.9304175 65.5099404,11.4910537 C65.5099404,12.8031809 66.1461233,13.9562624 67.4184891,14.7912525 C67.0208748,15.944334 66.7823062,17.1371769 66.7823062,18.1312127 C66.7823062,20.9940358 68.2932406,23.1013917 71.195825,23.1013917 Z M76.4840954,14.9900596 C73.7007952,14.9900596 71.3946322,14.5129225 69.9632207,13.9562624 C71.9115308,9.70178926 76.4045726,4.65208748 80.1023857,4.65208748 C80.8976143,4.65208748 81.4145129,4.41351889 81.4145129,3.93638171 C81.4145129,3.5387674 80.8180915,2.86282306 79.8240557,2.86282306 C75.6888668,2.86282306 70.639165,8.03180915 68.2137177,12.8827038 C67.8558648,12.3658052 67.5775348,11.6500994 67.5775348,11.0536779 C67.5775348,5.64612326 75.4502982,1.78926441 80.8976143,1.78926441 C83.5218688,1.78926441 84.5159046,2.98210736 84.5159046,4.77137177 C84.5159046,7.75347913 82.527833,11.6500994 80.2614314,14.7117296 C79.028827,14.8707753 77.7962227,14.9900596 76.4840954,14.9900596 Z M71.7922465,21.2326044 C69.7246521,21.2326044 68.7703777,19.7614314 68.7703777,17.9324056 C68.7703777,17.2962227 68.9691849,16.4612326 69.2077535,15.7057654 C70.917495,16.3419483 73.6610338,16.6998012 76.4045726,16.6998012 C77.1202783,16.6998012 77.9552684,16.6998012 78.750497,16.6202783 C76.4840954,19.3240557 73.5019881,21.2326044 71.7922465,21.2326044 Z M86.1063618,21.9483101 C87.6570577,21.9483101 89.4463221,20.5168986 91.195825,18.8071571 C91.195825,20.6361829 91.3548708,21.6699801 92.8260437,21.6699801 C94.6550696,21.6699801 97.3190855,18.6481113 99.1878728,16.3817097 C99.6650099,15.7852883 99.8638171,15.5069583 99.8638171,15.0695825 C99.8638171,14.6719682 99.5854871,14.473161 99.2276342,14.473161 C98.7902584,14.473161 98.2733598,15.1093439 97.7962227,15.7057654 C96.4045726,17.5347913 94.0188867,20 93.1441352,20 C92.945328,20 92.7465209,19.8011928 92.7465209,19.3240557 C92.7465209,17.7733598 93.5815109,15.666004 94.4960239,14.3936382 C94.7743539,13.9960239 95.0526839,13.6779324 95.0526839,13.3200795 C95.0526839,12.8827038 94.7743539,12.4850895 94.138171,12.4850895 C93.6212724,12.4850895 93.2236581,13.0417495 92.8658052,13.5586481 L92.8009933,13.6533776 C92.4664748,14.1482784 92.1223869,14.7526959 91.0765408,16.6202783 C89.8836978,18.3300199 87.3389662,20.27833 86.6630219,20.27833 C86.4244533,20.27833 86.3449304,20 86.3449304,19.8011928 C86.3449304,19.3240557 86.8220676,18.4890656 87.2992048,17.6540755 C88.0149105,16.3817097 88.7703777,14.8310139 88.7703777,13.4791252 C88.7703777,12.7236581 88.5318091,12.2465209 87.8161034,12.2465209 C87.0208748,12.2465209 86.7425447,12.7634195 86.7425447,13.7574553 C86.7425447,14.8310139 86.1858847,16.0636183 85.4701789,17.2166998 C84.833996,18.250497 84.277336,19.2445328 84.277336,20.1590457 C84.277336,20.8349901 84.6749503,21.9483101 86.1063618,21.9483101 Z M103.203777,25.8846918 C103.800199,25.8846918 104.078529,25.4870775 104.078529,24.9304175 C104.078529,24.333996 103.56163,23.9363817 103.56163,23.2604374 C103.56163,21.2326044 105.907555,15.0298211 108.134195,11.0934394 C109.207753,10.7355865 110.559642,10.1789264 111.354871,10.1789264 C111.832008,10.1789264 112.189861,10.3379722 112.189861,10.4970179 C112.189861,10.695825 112.070577,10.9343936 112.070577,11.1332008 C112.070577,11.3717694 112.189861,11.4910537 112.547714,11.4910537 C112.945328,11.4910537 113.939364,10.6163022 113.939364,9.82107356 C113.939364,8.90656064 113.223658,8.50894632 111.752485,8.50894632 C110.957256,8.50894632 110.162028,8.66799205 109.486083,8.8667992 C110.599404,6.87872763 111.434394,5.5666004 111.991054,5.16898608 C112.786282,4.53280318 112.945328,4.21471173 112.945328,3.69781312 C112.945328,3.10139165 112.666998,2.7833002 111.951292,2.7833002 C111.354871,2.7833002 110.877734,3.26043738 110.201789,4.21471173 C109.486083,5.16898608 108.333002,7.15705765 106.941352,9.58250497 C105.867793,10.0596421 103.760437,10.5765408 102.16998,10.5765408 C103.044732,8.94632207 105.112326,6.2027833 105.78827,5.64612326 C106.583499,5.04970179 106.663022,4.73161034 106.663022,4.25447316 C106.663022,3.77733598 106.185885,3.37972167 105.629225,3.37972167 C105.152087,3.37972167 104.595427,3.93638171 103.879722,4.89065606 C102.806163,6.24254473 101.573559,8.11133201 100.420477,10.2584493 C99.9035785,10.2584493 99.4264414,9.50298211 98.7107356,9.50298211 C98.0745527,9.50298211 97.6769384,10.0198807 97.6769384,10.5367793 C97.6769384,11.3717694 98.750497,11.8091451 99.5457256,11.9284294 C98.1540755,14.5924453 96.2852883,19.4831014 96.2852883,21.7892644 C96.2852883,22.7833002 96.7624254,23.4592445 97.3588469,23.4592445 C98.0347913,23.4592445 98.3528827,23.0616302 98.3528827,22.584493 C98.3528827,22.2266402 98.0745527,22.027833 98.0745527,21.5109344 C98.0745527,19.44334 100.181909,14.7912525 101.454274,12.3260437 C102.925447,12.3260437 104.436382,12.2465209 105.668986,11.7296223 C103.879722,15.2683897 101.772366,20.4771372 101.772366,23.4194831 C101.772366,25.2087475 102.488072,25.8846918 103.203777,25.8846918 Z M109.207753,22.1073559 C113.621272,22.1073559 116.841948,18.6878728 118.710736,16.3817097 C119.187873,15.7852883 119.38668,15.5069583 119.38668,15.0695825 C119.38668,14.6719682 119.10835,14.473161 118.750497,14.473161 C118.313121,14.473161 117.796223,15.1093439 117.319085,15.7057654 C115.887674,17.4552684 113.223658,20.5168986 109.883698,20.5168986 C109.128231,20.5168986 108.770378,19.7614314 108.770378,19.44334 C108.770378,19.1650099 108.929423,18.8866799 109.446322,18.7673956 C112.070577,18.1709742 115.410537,15.8250497 115.410537,13.7574553 C115.410537,12.8827038 114.496024,12.2465209 113.661034,12.2465209 C111.593439,12.2465209 108.849901,13.9960239 107.338966,17.5347913 C106.941352,17.6540755 106.583499,18.1312127 106.583499,18.528827 C106.583499,18.9662028 106.782306,19.0854871 106.782306,19.3240557 C106.782306,21.0735586 107.895626,22.1073559 109.207753,22.1073559 Z M109.327038,17.3359841 C110.082505,16.1431412 112.189861,14.0357853 113.144135,14.0357853 C113.382704,14.0357853 113.462227,14.194831 113.462227,14.4333996 C113.462227,15.1093439 110.758449,17.0576541 109.327038,17.3359841 Z M117.000994,22.306163 C117.676938,22.306163 118.034791,20.55666 118.432406,20.0397614 C119.346918,18.8071571 123.124254,14.5924453 124.237575,14.5924453 C124.476143,14.5924453 124.595427,14.8310139 124.595427,15.0298211 C124.595427,15.9840954 124.356859,17.1769384 124.356859,18.0516899 C124.356859,19.8011928 124.714712,21.6302187 126.702783,21.6302187 C128.690855,21.6302187 131.315109,18.6481113 133.144135,16.3817097 C133.621272,15.7852883 133.82008,15.5069583 133.82008,15.0695825 C133.82008,14.6719682 133.54175,14.473161 133.183897,14.473161 C132.746521,14.473161 132.229622,15.1093439 131.752485,15.7057654 C130.400596,17.5347913 128.213718,19.9204771 127.299205,19.9204771 C126.543738,19.9204771 126.464215,18.8469185 126.464215,17.6143141 C126.464215,16.222664 126.702783,15.0695825 126.702783,13.8767396 C126.702783,12.9224652 126.026839,12.3658052 125.152087,12.3658052 C123.402584,12.3658052 120.539761,15.4671968 119.267396,16.8986083 C119.346918,16.6600398 119.863817,14.9105368 120.102386,14.2743539 C120.5,13.1610338 120.659046,12.8031809 120.659046,12.2465209 C120.659046,11.6898608 120.102386,11.4115308 119.824056,11.4115308 C118.790258,11.4115308 118.511928,12.0079523 117.955268,13.7972167 C117.199801,16.1431412 115.649105,20.2385686 115.649105,21.2326044 C115.649105,22.027833 116.285288,22.306163 117.000994,22.306163 Z"
      />
    </svg>
  </>
);

Header.defaultProps = {
  children: <DefaultHeaderText />,
};

export default Header;
